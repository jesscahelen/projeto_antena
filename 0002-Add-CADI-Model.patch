From 5370a0732b98bcc274978c545928c7f9f917836d Mon Sep 17 00:00:00 2001
From: RoneFB <rone.bento@fatec.sp.gov.br>
Date: Thu, 15 Aug 2019 19:10:54 -0300
Subject: [PATCH 2/4] Add CADI Model

---
 src/main/java/hello/MainServer.java | 41 +++++++++++++++++++++++++++++
 src/main/java/hello/Model.java      | 36 +++++++++++++++++++++++++
 2 files changed, 77 insertions(+)
 create mode 100644 src/main/java/hello/MainServer.java
 create mode 100644 src/main/java/hello/Model.java

diff --git a/src/main/java/hello/MainServer.java b/src/main/java/hello/MainServer.java
new file mode 100644
index 0000000..878165c
--- /dev/null
+++ b/src/main/java/hello/MainServer.java
@@ -0,0 +1,41 @@
+package hello;
+
+import static spark.Spark.*;
+
+
+
+
+public class MainServer {
+
+	final static Model model = new Model();
+
+    public static void main(String[] args) {
+
+		// Get port config of heroku on environment variable
+        ProcessBuilder process = new ProcessBuilder();
+        Integer port;
+        if (process.environment().get("PORT") != null) {
+            port = Integer.parseInt(process.environment().get("PORT"));
+        } else {
+            port = 8080;
+        }
+        port(port);
+
+		
+        
+        initializeModel();
+		
+        
+		
+		staticFileLocation("/static");
+		
+	
+    }
+	
+    public static void initializeModel(){
+	
+		
+		
+	}
+	
+}
diff --git a/src/main/java/hello/Model.java b/src/main/java/hello/Model.java
new file mode 100644
index 0000000..4c4e3d5
--- /dev/null
+++ b/src/main/java/hello/Model.java
@@ -0,0 +1,36 @@
+package hello;
+
+
+import org.bson.Document;
+import com.github.fakemongo.Fongo;
+import com.mongodb.client.FindIterable;
+import com.mongodb.client.MongoCollection;
+import com.mongodb.client.MongoDatabase;
+
+public class Model{
+	
+	
+	Fongo fongo = new Fongo("mongo");
+	
+	public FindIterable<Document> searchByEtapa(String etapa){
+		MongoDatabase db = fongo.getDatabase("app");
+		MongoCollection<Document> projects = db.getCollection("projects");
+		FindIterable<Document> found = projects.find(new Document("etapa", etapa));
+		return found;
+	}
+	
+	public FindIterable<Document> searchByEmpresa(String empresa){
+		MongoDatabase db = fongo.getDatabase("app");
+		MongoCollection<Document> projects = db.getCollection("projects");
+		FindIterable<Document> found = projects.find(new Document("empresa", empresa));
+		return found;
+	}
+	
+	public FindIterable<Document> searchByProfessor(String professor){
+		MongoDatabase db = fongo.getDatabase("app");
+		MongoCollection<Document> projects = db.getCollection("projects");
+		FindIterable<Document> found = projects.find(new Document("professor", professor));
+		return found;
+	}
+	
+}
-- 
2.22.0.windows.1

